{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ViewUsers=()=>{const[users,setUsers]=useState([]);useEffect(()=>{const fetchUsers=async()=>{try{const response=await axios.get('http://localhost:4000/api/users');console.log('Fetched Users:',response.data);// Debug print\nsetUsers(response.data);}catch(error){console.error('Error fetching users:',error);}};fetchUsers();},[]);const deleteUser=async id=>{try{await axios.delete(`http://localhost:4000/api/users/${id}`);setUsers(users.filter(user=>user._id!==id));}catch(error){console.error('Error deleting user:',error);}};const editUser=id=>{window.location.href=`/users/edit/${id}`;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Existing Users\"}),/*#__PURE__*/_jsx(\"ul\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Name:\"}),\" \",user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Username:\"}),\" \",user.username]}),\"  \",/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Email:\"}),\" \",user.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Role:\"}),\" \",user.role]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>editUser(user._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteUser(user._id),children:\"Delete\"})]},user._id))})]});};export default ViewUsers;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ViewUsers","users","setUsers","fetchUsers","response","get","console","log","data","error","deleteUser","id","delete","filter","user","_id","editUser","window","location","href","children","map","name","username","email","role","onClick"],"sources":["C:/Users/antho/cs203/frontend/src/pages/ViewUsers.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ViewUsers = () => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const response = await axios.get('http://localhost:4000/api/users');\r\n        console.log('Fetched Users:', response.data);  // Debug print\r\n        setUsers(response.data);\r\n      } catch (error) {\r\n        console.error('Error fetching users:', error);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const deleteUser = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:4000/api/users/${id}`);\r\n      setUsers(users.filter(user => user._id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting user:', error);\r\n    }\r\n  };\r\n\r\n  const editUser = (id) => {\r\n    window.location.href = `/users/edit/${id}`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Existing Users</h1>\r\n      <ul>\r\n        {users.map(user => (\r\n          <li key={user._id}>\r\n            <p><strong>Name:</strong> {user.name}</p>\r\n            <p><strong>Username:</strong> {user.username}</p>  {/* Ensure username is displayed */}\r\n            <p><strong>Email:</strong> {user.email}</p>\r\n            <p><strong>Role:</strong> {user.role}</p>\r\n            <button onClick={() => editUser(user._id)}>Edit</button>\r\n            <button onClick={() => deleteUser(user._id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewUsers;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,SAAS,CAAGA,CAAA,GAAM,CACtB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAEtCC,SAAS,CAAC,IAAM,CACd,KAAM,CAAAS,UAAU,CAAG,KAAAA,CAAA,GAAY,CAC7B,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,CAAC,iCAAiC,CAAC,CACnEC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEH,QAAQ,CAACI,IAAI,CAAC,CAAG;AAC/CN,QAAQ,CAACE,QAAQ,CAACI,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC/C,CACF,CAAC,CACDN,UAAU,CAAC,CAAC,CACd,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,UAAU,CAAG,KAAO,CAAAC,EAAE,EAAK,CAC/B,GAAI,CACF,KAAM,CAAAhB,KAAK,CAACiB,MAAM,CAAC,mCAAmCD,EAAE,EAAE,CAAC,CAC3DT,QAAQ,CAACD,KAAK,CAACY,MAAM,CAACC,IAAI,EAAIA,IAAI,CAACC,GAAG,GAAKJ,EAAE,CAAC,CAAC,CACjD,CAAE,MAAOF,KAAK,CAAE,CACdH,OAAO,CAACG,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CACF,CAAC,CAED,KAAM,CAAAO,QAAQ,CAAIL,EAAE,EAAK,CACvBM,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,eAAeR,EAAE,EAAE,CAC5C,CAAC,CAED,mBACEZ,KAAA,QAAAqB,QAAA,eACEvB,IAAA,OAAAuB,QAAA,CAAI,gBAAc,CAAI,CAAC,cACvBvB,IAAA,OAAAuB,QAAA,CACGnB,KAAK,CAACoB,GAAG,CAACP,IAAI,eACbf,KAAA,OAAAqB,QAAA,eACErB,KAAA,MAAAqB,QAAA,eAAGvB,IAAA,WAAAuB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACN,IAAI,CAACQ,IAAI,EAAI,CAAC,cACzCvB,KAAA,MAAAqB,QAAA,eAAGvB,IAAA,WAAAuB,QAAA,CAAQ,WAAS,CAAQ,CAAC,IAAC,CAACN,IAAI,CAACS,QAAQ,EAAI,CAAC,KAAE,cACnDxB,KAAA,MAAAqB,QAAA,eAAGvB,IAAA,WAAAuB,QAAA,CAAQ,QAAM,CAAQ,CAAC,IAAC,CAACN,IAAI,CAACU,KAAK,EAAI,CAAC,cAC3CzB,KAAA,MAAAqB,QAAA,eAAGvB,IAAA,WAAAuB,QAAA,CAAQ,OAAK,CAAQ,CAAC,IAAC,CAACN,IAAI,CAACW,IAAI,EAAI,CAAC,cACzC5B,IAAA,WAAQ6B,OAAO,CAAEA,CAAA,GAAMV,QAAQ,CAACF,IAAI,CAACC,GAAG,CAAE,CAAAK,QAAA,CAAC,MAAI,CAAQ,CAAC,cACxDvB,IAAA,WAAQ6B,OAAO,CAAEA,CAAA,GAAMhB,UAAU,CAACI,IAAI,CAACC,GAAG,CAAE,CAAAK,QAAA,CAAC,QAAM,CAAQ,CAAC,GANrDN,IAAI,CAACC,GAOV,CACL,CAAC,CACA,CAAC,EACF,CAAC,CAEV,CAAC,CAED,cAAe,CAAAf,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}