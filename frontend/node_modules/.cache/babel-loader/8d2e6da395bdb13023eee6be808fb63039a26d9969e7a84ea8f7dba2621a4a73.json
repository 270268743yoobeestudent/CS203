{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Projects=()=>{const[formData,setFormData]=useState({title:'',description:'',client:'',status:'Not Started',startDate:'',dueDate:'',assignedTo:''});const[jobs,setJobs]=useState([]);const[clients,setClients]=useState([]);const[users,setUsers]=useState([]);// State for users\nuseEffect(()=>{const fetchData=async()=>{try{const[jobsResponse,clientsResponse,usersResponse]=await Promise.all([axios.get('http://localhost:4000/api/jobs'),axios.get('http://localhost:4000/api/clients'),axios.get('http://localhost:4000/api/users')]);setJobs(jobsResponse.data);setClients(clientsResponse.data);setUsers(usersResponse.data);// Set users state\n}catch(error){console.error('Error fetching jobs, clients, or users:',error);}};fetchData();},[]);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();try{await axios.post('http://localhost:4000/api/projects',formData);alert('Project created successfully!');setFormData({title:'',description:'',client:'',status:'Not Started',startDate:'',dueDate:'',assignedTo:''});}catch(error){var _error$response,_error$response$data;alert('Error: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'An error occurred.'));}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create Project\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:formData.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:formData.description,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Client ID:\",/*#__PURE__*/_jsxs(\"select\",{name:\"client\",value:formData.client,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a client\"}),clients.map(client=>/*#__PURE__*/_jsxs(\"option\",{value:client._id,children:[client.name,\" (ID: \",client._id,\")\"]},client._id))]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Job ID:\",/*#__PURE__*/_jsxs(\"select\",{name:\"jobId\",value:formData.jobId,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a job\"}),jobs.map(job=>/*#__PURE__*/_jsxs(\"option\",{value:job._id,children:[job.title,\" (ID: \",job._id,\")\"]},job._id))]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Status:\",/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:formData.status,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"Not Started\",children:\"Not Started\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Completed\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Start Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:formData.startDate,onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Due Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dueDate\",value:formData.dueDate,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Assigned To:\",/*#__PURE__*/_jsxs(\"select\",{name:\"assignedTo\",value:formData.assignedTo,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a user\"}),users.map(user=>/*#__PURE__*/_jsx(\"option\",{value:user._id,children:user.name},user._id))]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Project\"})]})]});};export default Projects;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","Projects","formData","setFormData","title","description","client","status","startDate","dueDate","assignedTo","jobs","setJobs","clients","setClients","users","setUsers","fetchData","jobsResponse","clientsResponse","usersResponse","Promise","all","get","data","error","console","handleChange","e","target","name","value","handleSubmit","preventDefault","post","alert","_error$response","_error$response$data","response","message","children","onSubmit","type","onChange","required","map","_id","jobId","job","user"],"sources":["C:/Users/antho/cs203/frontend/src/pages/CreateProject.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Projects = () => {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    client: '',\r\n    status: 'Not Started',\r\n    startDate: '',\r\n    dueDate: '',\r\n    assignedTo: '',\r\n  });\r\n\r\n  const [jobs, setJobs] = useState([]);\r\n  const [clients, setClients] = useState([]);\r\n  const [users, setUsers] = useState([]);  // State for users\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [jobsResponse, clientsResponse, usersResponse] = await Promise.all([\r\n          axios.get('http://localhost:4000/api/jobs'),\r\n          axios.get('http://localhost:4000/api/clients'),\r\n          axios.get('http://localhost:4000/api/users')\r\n        ]);\r\n        setJobs(jobsResponse.data);\r\n        setClients(clientsResponse.data);\r\n        setUsers(usersResponse.data);  // Set users state\r\n      } catch (error) {\r\n        console.error('Error fetching jobs, clients, or users:', error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({\r\n      ...formData,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.post('http://localhost:4000/api/projects', formData);\r\n      alert('Project created successfully!');\r\n      setFormData({\r\n        title: '',\r\n        description: '',\r\n        client: '',\r\n        status: 'Not Started',\r\n        startDate: '',\r\n        dueDate: '',\r\n        assignedTo: '',\r\n      });\r\n    } catch (error) {\r\n      alert('Error: ' + (error.response?.data?.message || 'An error occurred.'));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Create Project</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>Title:\r\n          <input type=\"text\" name=\"title\" value={formData.title} onChange={handleChange} required />\r\n        </label>\r\n        <label>Description:\r\n          <input type=\"text\" name=\"description\" value={formData.description} onChange={handleChange} required />\r\n        </label>\r\n        <label>Client ID:\r\n          <select name=\"client\" value={formData.client} onChange={handleChange} required>\r\n            <option value=\"\">Select a client</option>\r\n            {clients.map((client) => (\r\n              <option key={client._id} value={client._id}>\r\n                {client.name} (ID: {client._id})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <label>Job ID:\r\n          <select name=\"jobId\" value={formData.jobId} onChange={handleChange} required>\r\n            <option value=\"\">Select a job</option>\r\n            {jobs.map((job) => (\r\n              <option key={job._id} value={job._id}>\r\n                {job.title} (ID: {job._id})\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <label>Status:\r\n          <select name=\"status\" value={formData.status} onChange={handleChange}>\r\n            <option value=\"Not Started\">Not Started</option>\r\n            <option value=\"In Progress\">In Progress</option>\r\n            <option value=\"Completed\">Completed</option>\r\n          </select>\r\n        </label>\r\n        <label>Start Date:\r\n          <input type=\"date\" name=\"startDate\" value={formData.startDate} onChange={handleChange} />\r\n        </label>\r\n        <label>Due Date:\r\n          <input type=\"date\" name=\"dueDate\" value={formData.dueDate} onChange={handleChange} required />\r\n        </label>\r\n        <label>Assigned To:\r\n          <select name=\"assignedTo\" value={formData.assignedTo} onChange={handleChange} required>\r\n            <option value=\"\">Select a user</option>\r\n            {users.map(user => (\r\n              <option key={user._id} value={user._id}>{user.name}</option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <button type=\"submit\">Create Project</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Projects;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}