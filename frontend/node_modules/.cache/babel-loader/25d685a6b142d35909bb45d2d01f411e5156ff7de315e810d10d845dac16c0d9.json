{"ast":null,"code":"// src/pages/ViewQuotes.js\nimport React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ViewQuotes=()=>{const[quotes,setQuotes]=useState([]);const[clients,setClients]=useState([]);useEffect(()=>{const fetchQuotesAndClients=async()=>{try{const quotesResponse=await axios.get('http://localhost:4000/api/quotes');setQuotes(quotesResponse.data);const clientsResponse=await axios.get('http://localhost:4000/api/clients');setClients(clientsResponse.data);}catch(error){console.error('Error fetching quotes and clients:',error);}};fetchQuotesAndClients();},[]);const deleteQuote=async id=>{try{await axios.delete(`http://localhost:4000/api/quotes/${id}`);setQuotes(quotes.filter(quote=>quote._id!==id));}catch(error){console.error('Error deleting quote:',error);}};const editQuote=id=>{window.location.href=`/quotes/edit/${id}`;};const getClientName=clientId=>{const client=clients.find(client=>client._id===clientId);return client?client.name:'Unknown Client';};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Existing Quotes\"}),quotes.map(quote=>/*#__PURE__*/_jsxs(\"div\",{className:\"quote-card\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Job Title:\"}),\" \",quote.title]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Amount:\"}),\" $\",quote.amount||'0.00']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Expires On:\"}),\" \",new Date(quote.expiresOn).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Client:\"}),\" \",getClientName(quote.client)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",quote.description]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",quote.status]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quote-actions\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>editQuote(quote._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteQuote(quote._id),children:\"Delete\"})]})]},quote._id))]});};export default ViewQuotes;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ViewQuotes","quotes","setQuotes","clients","setClients","fetchQuotesAndClients","quotesResponse","get","data","clientsResponse","error","console","deleteQuote","id","delete","filter","quote","_id","editQuote","window","location","href","getClientName","clientId","client","find","name","children","map","className","title","amount","Date","expiresOn","toLocaleDateString","description","status","onClick"],"sources":["C:/Users/antho/cs203/frontend/src/pages/ViewQuotes.js"],"sourcesContent":["// src/pages/ViewQuotes.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ViewQuotes = () => {\r\n  const [quotes, setQuotes] = useState([]);\r\n  const [clients, setClients] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchQuotesAndClients = async () => {\r\n      try {\r\n        const quotesResponse = await axios.get('http://localhost:4000/api/quotes');\r\n        setQuotes(quotesResponse.data);\r\n\r\n        const clientsResponse = await axios.get('http://localhost:4000/api/clients');\r\n        setClients(clientsResponse.data);\r\n      } catch (error) {\r\n        console.error('Error fetching quotes and clients:', error);\r\n      }\r\n    };\r\n    fetchQuotesAndClients();\r\n  }, []);\r\n\r\n  const deleteQuote = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:4000/api/quotes/${id}`);\r\n      setQuotes(quotes.filter(quote => quote._id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting quote:', error);\r\n    }\r\n  };\r\n\r\n  const editQuote = (id) => {\r\n    window.location.href = `/quotes/edit/${id}`;\r\n  };\r\n\r\n  const getClientName = (clientId) => {\r\n    const client = clients.find(client => client._id === clientId);\r\n    return client ? client.name : 'Unknown Client';\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Existing Quotes</h1>\r\n      {quotes.map(quote => (\r\n        <div key={quote._id} className=\"quote-card\">\r\n          <p><strong>Job Title:</strong> {quote.title}</p>\r\n          <p><strong>Total Amount:</strong> ${quote.amount || '0.00'}</p>\r\n          <p><strong>Expires On:</strong> {new Date(quote.expiresOn).toLocaleDateString()}</p>\r\n          <p><strong>Client:</strong> {getClientName(quote.client)}</p>\r\n          <p><strong>Description:</strong> {quote.description}</p>\r\n          <p><strong>Status:</strong> {quote.status}</p>\r\n          <div className=\"quote-actions\">\r\n            <button onClick={() => editQuote(quote._id)}>Edit</button>\r\n            <button onClick={() => deleteQuote(quote._id)}>Delete</button>\r\n          </div>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewQuotes;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}