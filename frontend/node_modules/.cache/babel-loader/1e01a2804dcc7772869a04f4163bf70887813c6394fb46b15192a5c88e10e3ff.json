{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ViewProjects=()=>{const[projects,setProjects]=useState([]);const[clients,setClients]=useState([]);const[jobs,setJobs]=useState([]);const[users,setUsers]=useState([]);useEffect(()=>{const fetchData=async()=>{try{const[projectsResponse,clientsResponse,jobsResponse,usersResponse]=await Promise.all([axios.get('http://localhost:4000/api/projects'),axios.get('http://localhost:4000/api/clients'),axios.get('http://localhost:4000/api/jobs'),axios.get('http://localhost:4000/api/users')]);setProjects(projectsResponse.data);setClients(clientsResponse.data);setJobs(jobsResponse.data);setUsers(usersResponse.data);}catch(error){console.error('Error fetching data:',error);}};fetchData();},[]);const getClientName=clientId=>{const client=clients.find(client=>client._id===clientId);return client?client.name:'Unknown';};const getJobTitle=jobId=>{const job=jobs.find(job=>job._id===jobId);return job?job.title:'Unknown';};const getUserName=userId=>{const user=users.find(user=>user._id===userId);return user?user.name:'Unknown';};const deleteProject=async id=>{try{await axios.delete(`http://localhost:4000/api/projects/${id}`);setProjects(projects.filter(project=>project._id!==id));}catch(error){console.error('Error deleting project:',error);}};const editProject=id=>{window.location.href=`/projects/edit/${id}`;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Existing Projects\"}),/*#__PURE__*/_jsx(\"ul\",{children:projects.map(project=>/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:'15px'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Title:\"}),\" \",project.title]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Description:\"}),\" \",project.description]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Client:\"}),\" \",getClientName(project.client)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Job:\"}),\" \",getJobTitle(project.jobId)]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Status:\"}),\" \",project.status]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Start Date:\"}),\" \",new Date(project.startDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Due Date:\"}),\" \",new Date(project.dueDate).toLocaleDateString()]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Assigned To:\"}),\" \",getUserName(project.assignedTo)]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>editProject(project._id),children:\"Edit\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>deleteProject(project._id),children:\"Delete\"})]},project._id))})]});};export default ViewProjects;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","ViewProjects","projects","setProjects","clients","setClients","jobs","setJobs","users","setUsers","fetchData","projectsResponse","clientsResponse","jobsResponse","usersResponse","Promise","all","get","data","error","console","getClientName","clientId","client","find","_id","name","getJobTitle","jobId","job","title","getUserName","userId","user","deleteProject","id","delete","filter","project","editProject","window","location","href","children","map","style","marginBottom","description","status","Date","startDate","toLocaleDateString","dueDate","assignedTo","onClick"],"sources":["C:/Users/antho/cs203/frontend/src/pages/ViewProjects.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst ViewProjects = () => {\r\n  const [projects, setProjects] = useState([]);\r\n  const [clients, setClients] = useState([]);\r\n  const [jobs, setJobs] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [projectsResponse, clientsResponse, jobsResponse, usersResponse] = await Promise.all([\r\n          axios.get('http://localhost:4000/api/projects'),\r\n          axios.get('http://localhost:4000/api/clients'),\r\n          axios.get('http://localhost:4000/api/jobs'),\r\n          axios.get('http://localhost:4000/api/users')\r\n        ]);\r\n        setProjects(projectsResponse.data);\r\n        setClients(clientsResponse.data);\r\n        setJobs(jobsResponse.data);\r\n        setUsers(usersResponse.data);\r\n      } catch (error) {\r\n        console.error('Error fetching data:', error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, []);\r\n\r\n  const getClientName = (clientId) => {\r\n    const client = clients.find(client => client._id === clientId);\r\n    return client ? client.name : 'Unknown';\r\n  };\r\n\r\n  const getJobTitle = (jobId) => {\r\n    const job = jobs.find(job => job._id === jobId);\r\n    return job ? job.title : 'Unknown';\r\n  };\r\n\r\n  const getUserName = (userId) => {\r\n    const user = users.find(user => user._id === userId);\r\n    return user ? user.name : 'Unknown';\r\n  };\r\n\r\n  const deleteProject = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:4000/api/projects/${id}`);\r\n      setProjects(projects.filter(project => project._id !== id));\r\n    } catch (error) {\r\n      console.error('Error deleting project:', error);\r\n    }\r\n  };\r\n\r\n  const editProject = (id) => {\r\n    window.location.href = `/projects/edit/${id}`;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Existing Projects</h1>\r\n      <ul>\r\n        {projects.map(project => (\r\n          <li key={project._id} style={{ marginBottom: '15px' }}>\r\n            <div><strong>Title:</strong> {project.title}</div>\r\n            <div><strong>Description:</strong> {project.description}</div>\r\n            <div><strong>Client:</strong> {getClientName(project.client)}</div>\r\n            <div><strong>Job:</strong> {getJobTitle(project.jobId)}</div>\r\n            <div><strong>Status:</strong> {project.status}</div>\r\n            <div><strong>Start Date:</strong> {new Date(project.startDate).toLocaleDateString()}</div>\r\n            <div><strong>Due Date:</strong> {new Date(project.dueDate).toLocaleDateString()}</div>\r\n            <div><strong>Assigned To:</strong> {getUserName(project.assignedTo)}</div>\r\n            <button onClick={() => editProject(project._id)}>Edit</button>\r\n            <button onClick={() => deleteProject(project._id)}>Delete</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ViewProjects;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}