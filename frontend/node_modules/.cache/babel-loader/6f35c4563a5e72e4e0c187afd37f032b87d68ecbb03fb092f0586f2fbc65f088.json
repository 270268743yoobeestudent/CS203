{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditQuote=()=>{const{id}=useParams();const[quote,setQuote]=useState({title:'',description:'',client:'',amount:'',status:'',expiresOn:''});const[clients,setClients]=useState([]);useEffect(()=>{const fetchQuoteDetails=async()=>{try{const quoteResponse=await axios.get(`http://localhost:4000/api/quotes/${id}`);setQuote(quoteResponse.data);const clientsResponse=await axios.get('http://localhost:4000/api/clients');setClients(clientsResponse.data);}catch(error){console.error('Error fetching quote details:',error);}};fetchQuoteDetails();},[id]);const handleChange=e=>{setQuote({...quote,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();console.log('Submitting Quote:',quote);// Debug print\ntry{const response=await axios.put(`http://localhost:4000/api/quotes/${id}`,quote);console.log('Response:',response);// Debug print\nwindow.location.href='/quotes/view';}catch(error){console.error('Error updating quote:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Quote\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:quote.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:quote.description,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Client:\",/*#__PURE__*/_jsxs(\"select\",{name:\"client\",value:quote.client,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a client\"}),clients.map(client=>/*#__PURE__*/_jsx(\"option\",{value:client._id,children:client.name},client._id)// Use _id for value\n)]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Amount:\",/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"amount\",value:quote.amount,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Status:\",/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:quote.status,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Approved\",children:\"Approved\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Rejected\",children:\"Rejected\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Expires On:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"expiresOn\",value:quote.expiresOn,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save Changes\"})]})]});};export default EditQuote;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","jsx","_jsx","jsxs","_jsxs","EditQuote","id","quote","setQuote","title","description","client","amount","status","expiresOn","clients","setClients","fetchQuoteDetails","quoteResponse","get","data","clientsResponse","error","console","handleChange","e","target","name","value","handleSubmit","preventDefault","log","response","put","window","location","href","children","onSubmit","type","onChange","required","map","_id"],"sources":["C:/Users/antho/cs203/frontend/src/pages/EditQuote.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst EditQuote = () => {\r\n  const { id } = useParams();\r\n  const [quote, setQuote] = useState({\r\n    title: '',\r\n    description: '',\r\n    client: '',\r\n    amount: '',\r\n    status: '',\r\n    expiresOn: '',\r\n  });\r\n  const [clients, setClients] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchQuoteDetails = async () => {\r\n      try {\r\n        const quoteResponse = await axios.get(`http://localhost:4000/api/quotes/${id}`);\r\n        setQuote(quoteResponse.data);\r\n\r\n        const clientsResponse = await axios.get('http://localhost:4000/api/clients');\r\n        setClients(clientsResponse.data);\r\n      } catch (error) {\r\n        console.error('Error fetching quote details:', error);\r\n      }\r\n    };\r\n    fetchQuoteDetails();\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    setQuote({\r\n      ...quote,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('Submitting Quote:', quote);  // Debug print\r\n    try {\r\n      const response = await axios.put(`http://localhost:4000/api/quotes/${id}`, quote);\r\n      console.log('Response:', response);  // Debug print\r\n      window.location.href = '/quotes/view';\r\n    } catch (error) {\r\n      console.error('Error updating quote:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Edit Quote</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          Title:\r\n          <input type=\"text\" name=\"title\" value={quote.title} onChange={handleChange} required />\r\n        </label>\r\n        <label>\r\n          Description:\r\n          <input type=\"text\" name=\"description\" value={quote.description} onChange={handleChange} required />\r\n        </label>\r\n        <label>\r\n          Client:\r\n          <select name=\"client\" value={quote.client} onChange={handleChange} required>\r\n            <option value=\"\">Select a client</option>\r\n            {clients.map(client => (\r\n              <option key={client._id} value={client._id}>{client.name}</option>  // Use _id for value\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <label>\r\n          Amount:\r\n          <input type=\"number\" name=\"amount\" value={quote.amount} onChange={handleChange} required />\r\n        </label>\r\n        <label>\r\n          Status:\r\n          <select name=\"status\" value={quote.status} onChange={handleChange} required>\r\n            <option value=\"\">Select status</option>\r\n            <option value=\"Pending\">Pending</option>\r\n            <option value=\"Approved\">Approved</option>\r\n            <option value=\"Rejected\">Rejected</option>\r\n          </select>\r\n        </label>\r\n        <label>\r\n          Expires On:\r\n          <input type=\"date\" name=\"expiresOn\" value={quote.expiresOn} onChange={handleChange} required />\r\n        </label>\r\n        <button type=\"submit\">Save Changes</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditQuote;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}