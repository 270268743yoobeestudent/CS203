{"ast":null,"code":"// src/pages/EditJob.js\nimport React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EditJob=()=>{const{id}=useParams();const[job,setJob]=useState({title:'',description:'',client:'',status:'',dueDate:'',assignedTo:''});const[clients,setClients]=useState([]);const[users,setUsers]=useState([]);useEffect(()=>{const fetchJobDetails=async()=>{try{const jobResponse=await axios.get(`http://localhost:4000/api/jobs/${id}`);setJob(jobResponse.data);const clientsResponse=await axios.get('http://localhost:4000/api/clients');setClients(clientsResponse.data);const usersResponse=await axios.get('http://localhost:4000/api/users');setUsers(usersResponse.data);}catch(error){console.error('Error fetching job details:',error);}};fetchJobDetails();},[id]);const handleChange=e=>{setJob({...job,[e.target.name]:e.target.value});};const handleSubmit=async e=>{e.preventDefault();try{await axios.put(`http://localhost:4000/api/jobs/${id}`,job);window.location.href='/jobs/view';}catch(error){console.error('Error updating job:',error);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Job\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Title:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:job.title,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Description:\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"description\",value:job.description,onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Client:\",/*#__PURE__*/_jsxs(\"select\",{name:\"client\",value:job.client,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a client\"}),clients.map(client=>/*#__PURE__*/_jsx(\"option\",{value:client.name,children:client.name},client._id))]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Status:\",/*#__PURE__*/_jsxs(\"select\",{name:\"status\",value:job.status,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pending\",children:\"Pending\"}),/*#__PURE__*/_jsx(\"option\",{value:\"In Progress\",children:\"In Progress\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Completed\",children:\"Completed\"})]})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Due Date:\",/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"dueDate\",value:job.dueDate?new Date(job.dueDate).toISOString().split('T')[0]:'',onChange:handleChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{children:[\"Assigned To:\",/*#__PURE__*/_jsxs(\"select\",{name:\"assignedTo\",value:job.assignedTo,onChange:handleChange,required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Assign to a user\"}),users.map(user=>/*#__PURE__*/_jsx(\"option\",{value:user.name,children:user.name},user._id))]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Save Changes\"})]})]});};export default EditJob;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","jsx","_jsx","jsxs","_jsxs","EditJob","id","job","setJob","title","description","client","status","dueDate","assignedTo","clients","setClients","users","setUsers","fetchJobDetails","jobResponse","get","data","clientsResponse","usersResponse","error","console","handleChange","e","target","name","value","handleSubmit","preventDefault","put","window","location","href","children","onSubmit","type","onChange","required","map","_id","Date","toISOString","split","user"],"sources":["C:/Users/antho/cs203/frontend/src/pages/EditJob.js"],"sourcesContent":["// src/pages/EditJob.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst EditJob = () => {\r\n  const { id } = useParams();\r\n  const [job, setJob] = useState({\r\n    title: '',\r\n    description: '',\r\n    client: '',\r\n    status: '',\r\n    dueDate: '',\r\n    assignedTo: ''\r\n  });\r\n  const [clients, setClients] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchJobDetails = async () => {\r\n      try {\r\n        const jobResponse = await axios.get(`http://localhost:4000/api/jobs/${id}`);\r\n        setJob(jobResponse.data);\r\n\r\n        const clientsResponse = await axios.get('http://localhost:4000/api/clients');\r\n        setClients(clientsResponse.data);\r\n\r\n        const usersResponse = await axios.get('http://localhost:4000/api/users');\r\n        setUsers(usersResponse.data);\r\n      } catch (error) {\r\n        console.error('Error fetching job details:', error);\r\n      }\r\n    };\r\n    fetchJobDetails();\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    setJob({\r\n      ...job,\r\n      [e.target.name]: e.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axios.put(`http://localhost:4000/api/jobs/${id}`, job);\r\n      window.location.href = '/jobs/view';\r\n    } catch (error) {\r\n      console.error('Error updating job:', error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <h1>Edit Job</h1>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>\r\n          Title:\r\n          <input type=\"text\" name=\"title\" value={job.title} onChange={handleChange} required />\r\n        </label>\r\n        <label>\r\n          Description:\r\n          <input type=\"text\" name=\"description\" value={job.description} onChange={handleChange} required />\r\n        </label>\r\n        <label>\r\n          Client:\r\n          <select name=\"client\" value={job.client} onChange={handleChange} required>\r\n            <option value=\"\">Select a client</option>\r\n            {clients.map(client => (\r\n              <option key={client._id} value={client.name}>{client.name}</option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <label>\r\n          Status:\r\n          <select name=\"status\" value={job.status} onChange={handleChange} required>\r\n            <option value=\"\">Select status</option>\r\n            <option value=\"Pending\">Pending</option>\r\n            <option value=\"In Progress\">In Progress</option>\r\n            <option value=\"Completed\">Completed</option>\r\n          </select>\r\n        </label>\r\n        <label>\r\n          Due Date:\r\n          <input type=\"date\" name=\"dueDate\" value={job.dueDate ? new Date(job.dueDate).toISOString().split('T')[0] : ''} onChange={handleChange} required />\r\n        </label>\r\n        <label>\r\n          Assigned To:\r\n          <select name=\"assignedTo\" value={job.assignedTo} onChange={handleChange} required>\r\n            <option value=\"\">Assign to a user</option>\r\n            {users.map(user => (\r\n              <option key={user._id} value={user.name}>{user.name}</option>\r\n            ))}\r\n          </select>\r\n        </label>\r\n        <button type=\"submit\">Save Changes</button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditJob;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}